\underline{Zusammengesetze Daten}\\
Ein Charakter \underline{besteht} aus drei \underline{Komponenten}\\
\begin{tabular}{clcl}
- & Name des Charakters &(name)\rdelim\}{3}{0mm}
[Datendefinition für zusammengesetzte Daten]\\
- & Handelt es sich um einen Jedi? &(jedi?)&\\
- & Stärke der Macht \hspace*{2.3cm} &(force)&
\end{tabular}\\
Konkrete Charakter:\hspace*{5pt}
\begin{tabular}{|c|c|}
\hline
name & \glqq Luke Skywalker \grqq\\
\hline
jedi? & \#f \\
\hline
force & 25 \\
\hline
\end{tabular}\\
\racket{Record Definitionen}{Starwars Charakter als Racket Records}{records}
Zusammengesetzte Daten = \underline{Records} in Scheme Record-Definition legt fest:\\
\begin{tabular}{cll}
- & Record-Signatur\\
- & \underline{Konstruktor} & (baut aus Komponenten einen Record)\\
- & Prädikat & (liegt ein Record vor?)\\
- & Liste von \underline{Selektoren}& (lesen jeweils eine Komponente des Records)
\end{tabular}\\
\begin{lstlisting}
(define-record-procedure <t>
	make-<t>
	<t>?
	(<t>-<comp1> ... <t>-<comp2>))
	;Liste der n Selektoren
\end{lstlisting}
Verträge des Konstruktors\/ der Selektoren für Record- Signatur\\
\argt{} mit Komponenten namens \argcomp{1} $\ldots$ \argcomp{n}\\
\begin{lstlisting}
(: make-<t> (<t1>...<t2>) -> <t>)
(: <t>-<comp1> (<t> -> <t1>))
(: <t>-<compn> (<t> -> <tn>))
\end{lstlisting}
Es gilt für alle Strings n, Booleans j und Integer f:
\begin{lstlisting}
(character-name (make-character n j f) n)
(character-jedi? (make-character n j f) j)
(character-force (make-character n j f) f )
\end{lstlisting}
Spezialform check-property:\\
\begin{lstlisting}
(check-property
	(for-all ((<id1> <sig1>) ... 
			  (<idn> <sign>))
	<e>))
	@\latexcode{$\downarrow$}@
;Bezieht sich auf <id1> ... <idn>	
\end{lstlisting}
Test erfolgreich, falls \arge{} für beliebig gewählte Bedeutungen für \argid{1} $\ldots$ \argid{n} immer \#t ergibt\\
\racket{Check-property}{Interaktion von Selektoren und Konstruktor:}{checkproperty}
\underline{Beispiel:} Die Summe von zwei natürlichen Zahlen ist mindestens so gro\ss \ wie jeder dieser Zahlen: $ \forall x_1 \in \mathbb{N}, x_2 \in \mathbb{N} : x_1 + x_2 \geq \max\{x_1,x_2\}$
\lstinputlisting[frame=single,literate={ü}{{\"u}}1,caption={[Übersetzung mathematischer Aussagen in check-property]Mathematische $\forall$-Aussage in Racket}]{forall.rkt}
Konstruktion von Funktionen, die bestimmte gesetzte Daten \underline{konsumiert}.\\
\begin{enumerate}[-]
\i Welche Record-Componenten sind relevant für Funktionen?
\begin{enumerate}[$\rightarrow$]
\i Schablone:
\begin{lstlisting}
(: sith? (character -> boolean))
(define sith?
  (lambda (c)
    ... (character-jedi? c))
    ... (character-force c) )...))
\end{lstlisting}
\end{enumerate}
Konstruktion von Funktionen, die zusammengesetzte Daten \underline{konstruieren}
\i Der konstruktor \underline{muss} aufgerufen werden
\begin{enumerate}[$\rightarrow$]
\i Schablone:
\begin{lstlisting}
(define
	lambda(...)
		... (make-<t>)...)
\end{lstlisting}
\end{enumerate}
\i Konkrete Beispiele:
\racket{Konstruktoren und Selektoren}{Abfragen der Eigenschaften von character Records}{konstruktor}
\end{enumerate}
